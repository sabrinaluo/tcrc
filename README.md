# TCRC [![Build Status](https://travis-ci.org/sabrinaluo/tcrc.svg?branch=master)](https://travis-ci.org/sabrinaluo/tcrc) [![LICENSE MIT](https://img.shields.io/badge/LICENSE-MIT-blue.svg)](https://opensource.org/licenses/MIT)

### Demo URL
http://tcrc.sabrinaluo.com/

### Notes
- no backend interaction
- no local storage, DON'T refresh
- available view: login, student
- user accounts are hardcoded
- available tutors are hardcoded

### Build Setup

``` bash
# install dependencies
npm install

# build for production with minification
npm run build

# start server
npm run start
```

### Login details
- student
username: student1
password: student1
- tutor
username: tutor1
password: tutor1

### Git Push-To-Deploy
```
git remote add prod ssh://ubuntu@52.68.45.252/home/ubuntu/tcrc_bare
git push prod master
```
Please **DO NOT** directly push to `prod`, unless you know what you are doing!

### AWS Server
```
~
├───tcrc_bare             # git index her
│   ├───hooks
│   ... └───post-update   # when push event received, execute bash here
└───tcrc_prod             # sorce code here, generated by post-update hook bash
```
`app.js` is run by `forever.js`
```
cd tcrc_prod
sudo NODE_ENV=prod forever start app.js   # start server
sudo forever restart app.js               # restart server
sudo forever stop app.js                  # stop server
```

### Travis CI
 - Trigger: **push** and **pull request** to `master` branch will trigger deployment on AWS.
 - Security: private key to access AWS is encrypted by travis.
 
Please DO NOT delete `aws server ~/.ssh/authorized_keys`, otherwise travis cannot do deployment.
